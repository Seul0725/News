<!-- 主页 -->
<div class="home">
	<div id="main" style="height: 400px"></div>
	<div id="container" style="margin:0 auto;height: 400px;"></div>
    <div id="sliders">
        <table>
            <tr>
                <td>α 角（内旋转角）</td>
                <td><input id="alpha" type="range" min="0" max="45" value="15"/> <span id="alpha-value" class="value"></span></td>
            </tr>
            <tr>
                <td>β 角（外旋转角）</td>
                <td><input id="beta" type="range" min="-45" max="45" value="15"/> <span id="beta-value" class="value"></span></td>
            </tr>
            <tr>
                <td>深度</td>
                <td><input id="depth" type="range" min="20" max="100" value="50"/> <span id="depth-value" class="value"></span></td>
            </tr>
        </table>
    </div>
   <div style="height: 20px"></div>
    <script>
         var chart = new Highcharts.Chart({
				chart: {
						renderTo: 'container',
						type: 'column',
						options3d: {
								enabled: true,
								alpha: 15,
								beta: 15,
								depth: 50,
								viewDistance: 25
						}
				},
				title: {
						text: '网站访问量(实时)'
				},
				subtitle: {
						text: '可通过滑动进行3D效果展示'
				},
				plotOptions: {
						column: {
								depth: 25
						}
				},
				series: [{
						name:'Access Time Ratio',
						data: [29.9, 71.5, 106.4, 129.2, 150.0, 180.0, 190.6, 200.5, 216.4, 180.1, 95.6, 54.4]
				}]
		});
         // 将当前角度信息同步到 DOM 中
		var alphaValue = document.getElementById('alpha-value'),
				betaValue = document.getElementById('beta-value'),
				depthValue = document.getElementById('depth-value');
		function showValues() {
				alphaValue.innerHTML = chart.options.chart.options3d.alpha;
				betaValue.innerHTML = chart.options.chart.options3d.beta;
				depthValue.innerHTML = chart.options.chart.options3d.depth;
		}
		// 监听 sliders 的变化并更新图表
		$('#sliders input').on('input change', function () {
				chart.options.chart.options3d[this.id] = this.value;
				showValues();
				chart.redraw(false);
		});
		showValues();

		//
		var dom = document.getElementById("main");
		var myChart = echarts.init(dom);
		var app = {};
		option = null;
		app.title = '嵌套环形图';

		option = {
		    tooltip: {
		        trigger: 'item',
		        formatter: "{a} <br/>{b}: {c} ({d}%)"
		    },
		    legend: {
		        orient: 'vertical',
		        x: 'left',
		        data:['直达','营销广告','搜索引擎','邮件营销','联盟广告','视频广告','百度','谷歌','必应','其他']
		    },
		    series: [
		        {
		            name:'访问来源',
		            type:'pie',
		            selectedMode: 'single',
		            radius: [0, '30%'],

		            label: {
		                normal: {
		                    position: 'inner'
		                }
		            },
		            labelLine: {
		                normal: {
		                    show: false
		                }
		            },
		            data:[
		                {value:335, name:'直达', selected:true},
		                {value:679, name:'营销广告'},
		                {value:1548, name:'搜索引擎'}
		            ]
		        },
		        {
		            name:'访问来源',
		            type:'pie',
		            radius: ['40%', '55%'],
		            label: {
		                normal: {
		                    formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
		                    backgroundColor: '#eee',
		                    borderColor: '#aaa',
		                    borderWidth: 1,
		                    borderRadius: 4,
		                    // shadowBlur:3,
		                    // shadowOffsetX: 2,
		                    // shadowOffsetY: 2,
		                    // shadowColor: '#999',
		                    // padding: [0, 7],
		                    rich: {
		                        a: {
		                            color: '#999',
		                            lineHeight: 22,
		                            align: 'center'
		                        },
		                        // abg: {
		                        //     backgroundColor: '#333',
		                        //     width: '100%',
		                        //     align: 'right',
		                        //     height: 22,
		                        //     borderRadius: [4, 4, 0, 0]
		                        // },
		                        hr: {
		                            borderColor: '#aaa',
		                            width: '100%',
		                            borderWidth: 0.5,
		                            height: 0
		                        },
		                        b: {
		                            fontSize: 16,
		                            lineHeight: 33
		                        },
		                        per: {
		                            color: '#eee',
		                            backgroundColor: '#334455',
		                            padding: [2, 4],
		                            borderRadius: 2
		                        }
		                    }
		                }
		            },
		            data:[
		                {value:335, name:'直达'},
		                {value:310, name:'邮件营销'},
		                {value:234, name:'联盟广告'},
		                {value:135, name:'视频广告'},
		                {value:1048, name:'百度'},
		                {value:251, name:'谷歌'},
		                {value:147, name:'必应'},
		                {value:102, name:'其他'}
		            ]
		        }
		    ]
		};;
		if (option && typeof option === "object") {
		    myChart.setOption(option, true);
		}
    </script>
</div>